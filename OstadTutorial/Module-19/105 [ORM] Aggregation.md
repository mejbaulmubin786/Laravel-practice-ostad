Laravel Eloquent ORM-এ **Aggregation** বলতে ডেটাবেস থেকে গোষ্ঠীকরণের মাধ্যমে বিভিন্ন ধরনের মোট, গড়, সর্বোচ্চ, সর্বনিম্ন ইত্যাদি মান বের করে আনার প্রক্রিয়া বোঝানো হয়। Aggregation-এর মাধ্যমে আমরা বড় বড় ডেটাবেজে সহজেই কিছু গণনা (calculation) করতে পারি এবং ফলাফল সংগ্রহ করতে পারি। Eloquent ORM-এ Aggregation এর জন্য কিছু নির্দিষ্ট মেথড রয়েছে, যেমন `count()`, `sum()`, `avg()`, `min()`, এবং `max()`।

Aggregation মেথডগুলো ব্যবহার করলে ডেটার হিসাব করতে সহজ হয় এবং আলাদা করে লজিক লিখতে হয় না।

### Aggregation মেথডসমূহ ও তাদের উদাহরণ

১. **count()**: এটি নির্দিষ্ট একটি টেবিলের রেকর্ডের সংখ্যা গণনা করে।

**উদাহরণ**: `Brand` মডেল থেকে মোট কতটি ব্র্যান্ড আছে তা বের করা।

```php
public function countBrands()
{
    return Brand::count();
}
```

যদি `brands` টেবিলে ৫টি ব্র্যান্ড থাকে, তাহলে এই মেথডটি ৫ রিটার্ন করবে।

২. **sum()**: এটি নির্দিষ্ট একটি কলামের সব মানের যোগফল বের করে।

**উদাহরণ**: `Product` মডেল থেকে সব প্রোডাক্টের `price` এর মোট যোগফল বের করা।

```php
public function totalProductPrice()
{
    return Product::sum('price');
}
```

যদি `products` টেবিলে `price` কলামের মানগুলো `100`, `200`, এবং `300` হয়, তাহলে এটি `600` রিটার্ন করবে।

৩. **avg()**: এটি একটি নির্দিষ্ট কলামের গড় মান বের করে।

**উদাহরণ**: `Product` মডেলের `price` কলামের গড় বের করা।

```php
public function averageProductPrice()
{
    return Product::avg('price');
}
```

যদি `price` এর মানগুলো `100`, `200`, এবং `300` হয়, তাহলে গড় হবে `(100 + 200 + 300) / 3 = 200`।

৪. **min()**: এটি একটি নির্দিষ্ট কলামের সর্বনিম্ন মান বের করে।

**উদাহরণ**: `Product` মডেলের মধ্যে সর্বনিম্ন `price` কত তা বের করা।

```php
public function minProductPrice()
{
    return Product::min('price');
}
```

যদি `price` কলামের মানগুলো `100`, `200`, এবং `300` হয়, তাহলে এটি `100` রিটার্ন করবে।

৫. **max()**: এটি একটি নির্দিষ্ট কলামের সর্বোচ্চ মান বের করে।

**উদাহরণ**: `Product` মডেলের মধ্যে সর্বোচ্চ `price` কত তা বের করা।

```php
public function maxProductPrice()
{
    return Product::max('price');
}
```

যদি `price` কলামের মানগুলো `100`, `200`, এবং `300` হয়, তাহলে এটি `300` রিটার্ন করবে।

### কেন Aggregation মেথড গুরুত্বপূর্ণ?

- **সহজ ও দ্রুত গণনা**: ডেটাবেজে সরাসরি বড় বড় ডেটাসেটের ওপর গণনা চালানো যায়, যা কোডে আলাদা করে করার চেয়ে অনেক দ্রুত।
- **কোড কমিয়ে আনে**: আলাদা লজিক না লিখে সরাসরি Aggregation মেথড ব্যবহার করলে কোডের পরিমাণ কমে এবং পড়তে সহজ হয়।
- **প্রকৃতপক্ষে ডেটাবেজে কাজ করায়**: Aggregation মেথডগুলো সরাসরি SQL-এর মাধ্যমে ডেটাবেজে কাজ করে, তাই কোডে লুপ চালানোর চেয়ে এটি দ্রুত ফলাফল রিটার্ন করতে পারে।

### তুলনা: Eloquent ORM বনাম Query Builder

Aggregation মেথডগুলো `Eloquent ORM` এবং `Query Builder` দুটোতেই একইভাবে কাজ করে। পার্থক্য হলো, Eloquent-এ এগুলো মডেলের মাধ্যমে কল করতে হয়, আর Query Builder-এ সরাসরি টেবিলের মাধ্যমে।

Eloquent-এ:

```php
Product::count();
Product::sum('price');
```

Query Builder-এ:

```php
DB::table('products')->count();
DB::table('products')->sum('price');
```

Aggregation মেথডগুলো ব্যবহার করে Laravel-এ ডেটাবেসের গণনা সহজে করা যায় এবং এটি নতুনদের জন্যও বোঝা সহজ।
